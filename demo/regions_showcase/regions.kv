#:kivy 1.0
#:import App kivy.app.App
<StartScreen>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            text: 'Load csv'
            on_press:
                root.load_from_csv()
                root.manager.current = 'user_select'
        Button:
            text: 'Use Mocked API'
            on_press:
                root.load_from_mocked_api()
                root.manager.current = 'user_select'
        Button:
            text: 'Use real API'
            on_press:
                root.load_from_real_api()
                root.manager.current = 'user_select'


<UserSelectScreen>:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            Widget:
            TextInput:
                size_hint: .3, None
                height: 30
                multiline: False
                id: selected_user
                on_text_validate:
                    root.show_user(self.text)
                    root.manager.current = 'maps'
            Button:
                text: 'Go'
                size_hint: .3, None
                height: 30
                on_press:
                    root.show_user(root.ids.selected_user.text)
                    root.manager.current = 'maps'
            Widget:
        Label:
            text: 'list of users'
            size_hint: 1, None
            height: 30
        Label:
            id: user_list
            text: 'user1\nuser2\nuser3'
            valign: "top"


<MapsScreen>:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            Image:
                source: 'media/maps_start.png'
                size_hint: .95, .95
                allow_stretch: True
                keep_ratio: False
            BoxLayout:
                orientation: 'vertical'
                valign: 'top'
                size_hint: .2, .95
                Button:
                    size_hint: 1, .5
                    text: 'Locations'
                Button:
                    size_hint: 1, .5
                    text: 'Stay points'
                Button:
                    size_hint: 1, .5
                    text: 'Stay regions'
                Widget:
                    size_hint: 1, 1
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .2
            Button:
                size_hint: .7, 1
                text: 'change user'
                on_press:
                    root.manager.current = 'user_select'
            Widget:
                size_hint: 1, 1
            Button:
                size_hint: .7, 1
                text: 'exit'
                on_press: App.get_running_app().stop()